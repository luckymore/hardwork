## Fiber架构是什么？
> Fiber是一种数据结构，Fiber节点拥有return, child,sibling三个属性，分别对应父节点， 第一个孩子， 它右边的兄弟， 有了它们就足够将一棵树变成一个链表， 实现深度优先遍历(DFS)。

我们都知道，React这个纯视图库其实也是三层架构：
- `虚拟DOM层`，它只负责描述结构与逻辑;
- `内部组件层`，它们负责组件的更新, ReactDOM.render、 setState、 forceUpdate都是与它们打交道，能让你多次setState，只执行一次真实的渲染, 在适合的时机执行你的组件实例的生命周期钩子; 
- `底层渲染层`， 不同的显示介质有不同的渲染方法，比如说浏览器端，它使用元素节点，文本节点，在Native端，会调用oc， java的GUI， 在canvas中，有专门的API方法

Fiber改变了`内部组件层`，省去了耗时的`diff`过程,：

状态更新 => vnode转化为Fiber节点 => updateView

## 解决了哪些问题？
React Fiber是对React来说是一次革命，解决了React项目严重依赖于手工优化的痛点，通过系统级别的时间调度，实现划时代的性能优化。
痛点主要有如下几个：

- 组件不能返回数组，最见的场合是UL元素下只能使用LI，TR元素下只能使用TD或TH，这时这里有一个组件循环生成LI或TD列表时，我们并不想再放一个DIV，这会破坏HTML的语义。
- 弹窗问题，之前一直使用不稳定的- unstable_renderSubtreeIntoContainer。弹窗是依赖原来DOM树的上下文，因此这个API第一个参数是组件实例，通过它得到对应虚拟DOM，然后一级级往上找，得到上下文。它的其他参数也很好用，但这个方法一直没有转正。。。
- 异常处理，我们想知道哪个组件出错，虽然有了React DevTool，但是太深的组件树查找起来还是很吃力。希望有个方法告诉我出错位置，并且出错时能让我有机会进行一些修复工作
- HOC的流行带来两个问题，毕竟是社区兴起的方案，没有考虑到ref与context的向下传递。
- 组件的性能优化全凭人肉，并且主要集中在SCU，希望框架能干些事情，即使不用SCU，性能也能上去。


## 如何解决的？
