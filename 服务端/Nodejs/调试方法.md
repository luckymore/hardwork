## æ— æ‰€ä¸èƒ½çš„ `Chrome`
> åœ¨ç»ˆç«¯é‡Œæ‰“å°å¯¹è±¡ç»“æž„çš„æ•°æ®æ ¹æœ¬æ²¡æ³•çœ‹ï¼Œå‘çŽ°å®˜æ–¹è°ƒè¯•å·¥å…·ç«Ÿç„¶å°±éšè—åœ¨Chromeé‡ŒðŸ˜‚ï¼Œå› ä¸ºnodeçš„æ‰§è¡Œä¾é v8å¼•æ“Žï¼Œæ— éœ€polyfillå¤©ç„¶æ”¯æŒæœ€æ–°ç‰ˆçš„ESè¯­æ³•ç‰¹æ€§ï¼Œè¦è°ƒè¯•è‚¯å®šChromeæœ€åˆé€‚å–ï¼å…¶å®žç†è§£çš„é€å½»éƒ½å¯ä»¥çŒœåˆ°çš„ï¼Œè¿™å°±æ˜¯æˆ‘æ‰€è¿½æ±‚çš„çŸ¥è¯†çš„å®Œå¤‡æ€§ã€‚é—²è¯ä¸æ‰¯ï¼Œèµ¶ç´§å­¦ä¹ ï¼Œæ¶ˆç­æˆ‘çš„æ— çŸ¥å§â€ðŸ¤¦

### ä¸€ã€æ‰“å¼€è°ƒè¯•å·¥å…·

åœ°å€æ è¾“å…¥
> `chrome://inspect`

ç‚¹å‡»
> [Open dedicated DevTools for Node]()

### äºŒã€å¼€å¯æ–­ç‚¹è°ƒè¯•

- è°ƒè¯•æœåŠ¡è„šæœ¬
> node --inspect koa.js 
```js
// koa.js
const Koa = require('koa');
const app = new Koa();

app.use(async (ctx, next) => {
    console.log('Access koa service');
    await next();
    ctx.response.type = 'text/html';
    ctx.response.body = '<h1>Hello, koa2!</h1>';
});

app.listen(3000);

console.log('app started at port 3000...');
```
æ‰“å¼€ [http://127.0.0.1:3000/](http://127.0.0.1:3000/) ç‚¹å‡»`å¼€å‘è€…å·¥å…·`å·¦ä¸Šè§’çš„ç»¿è‰²æ ‡å¿—ï¼Œå¼€å§‹è°ƒè¯•ã€‚

![111](https://graph.baidu.com/resource/10164b7a8633b3eec809801550504671.jpg)

- è°ƒè¯•éžæœåŠ¡ç«¯è„šæœ¬

  - è‡ªåŠ¨åœ¨ç¬¬ä¸€è¡Œæš‚åœ
    > node --inspect-brk=9229 socket.js
  
  - ç›´æŽ¥è°ƒè¯•ä»£ç ç‰‡æ®µ
    > node --inspect=9229 -e "setTimeout(function() { console.log('yes'); }, 30000)"

## å¦‚æžœè¿è¡Œè„šæœ¬å‰ï¼Œæ²¡åŠ  `--inspect` å‚æ•°

- æ‰¾åˆ°nodeè¿è¡Œæ­¤è„šæœ¬çš„è¿›ç¨‹å· `22263`
  > ps ax|grep koa.js
  // 22263 s014  S+     0:00.17 node --inspect-brk=9229 socket.js

- å»ºç«‹è¿›ç¨‹ä¸Žè°ƒè¯•å·¥å…·çš„è¿žæŽ¥ï¼Œæ‰“å¼€è°ƒè¯•å·¥å…·å³å¯
> node -e 'process._debugProcess(22263)'

<!-- å‘è„šæœ¬è¿›ç¨‹å‘é€SIGUSR1ä¿¡å·ï¼Œä¹Ÿå¯ä»¥å»ºç«‹è°ƒè¯•è¿žæŽ¥
> kill -SIGUSR 22263 -->
